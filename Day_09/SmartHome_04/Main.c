#include <stdio.h>
#include <errno.h>
#include <linux/input.h>
#include <signal.h>
#include "DrawPoint.h"
#include "ClearScreen.h"
#include "Play_Music.h"
#include "Show_Bmp.h"
#include "Open_Led.h"
#include "Show_Num.h"
#include "Show_Word.h"
#include "LTPHH.h"

#include "myutils.h"

#include "C_playmusic.h"

#include<stdlib.h>   // exit
#include<fcntl.h>    // O_WRONLY
#include<sys/stat.h>
#include<time.h>



unsigned char cmd1[2]={0,10};
//cmd[0]存的是灯的状态1是亮 0是灭
//cmd[1]存的是灯的编号

unsigned char cmd2[2]={0,9};
//cmd[0]存的是灯的状态1是亮 0是灭
//cmd2[1] = 9; //cmd[1]存的是灯的编号

int bt_flag1=-1,bt_flag2=-1,bt_flag3=-1;


//cxc
int *p=NULL;
//char *C_music=NULL;
unsigned char *music[3]={"SQ.mp3","WWDXF.mp3","EZJ.mp3"};
int count=0;int isPlaying=0;//播放的状态

int C_pid=-1;
unsigned char cmd[32];
unsigned char mo[2][288]={{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0x00,0x00,
                                  0x07,0xE0,0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,
                                  0x00,0x00,0x07,0xC0,0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0x00,0x00,0x07,0xC0,
                                  0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0x00,0x00,0x07,0xC0,0x00,0x00,0x00,0x00,
                                  0x07,0xC0,0x00,0x00,0x01,0xC0,0x07,0xC0,0x07,0x00,0x01,0xF0,0x07,0xC0,0x07,0xC0,
                                  0x01,0xF0,0x07,0xC0,0x07,0xC0,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,
                                  0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,
                                  0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,
                                  0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,
                                  0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,
                                  0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,
                                  0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,
                                  0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,0x07,0xC0,0x07,0x80,0x01,0xE0,
                                  0x07,0xC0,0x07,0x80,0x03,0xFF,0xFF,0xFF,0xFF,0x80,0x03,0xFF,0xFF,0xFF,0xFF,0x80,
                                  0x01,0xE0,0x00,0x00,0x07,0x80,0x00,0xC0,0x00,0x00,0x07,0x80,0x00,0x00,0x00,0x00,
                                  0x07,0x80,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x00,0x00,
                                  0x00,0x03,0xFE,0x00,0x00,0x00,0x00,0x1F,0xFF,0x00,0x00,0x00,0x01,0xFF,0xF8,0x00,
                                  0x00,0x38,0x1F,0xFC,0x00,0x00,0x00,0x3F,0xFF,0x00,0x00,0x00,0x00,0x3F,0xE0,0x00,
                                  0x00,0x00,0x00,0x3E,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0x00,0x00,0x00,0x3E,
                                  0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0x00,0x00,
                                  0x00,0x3E,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,
                                  0x03,0x00,0x00,0x3E,0x00,0x00,0x07,0x80,0x00,0x3F,0xFF,0xFF,0xFF,0xC0,0x00,0x3F,
                                  0xFF,0xFF,0xFF,0xE0,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,
                                  0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,
                                  0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,
                                  0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,
                                  0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,
                                  0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x00,0x00,0x3E,
                                  0x00,0x1F,0x00,0x00,0x00,0x3E,0x00,0x1F,0x00,0x60,0x00,0x3E,0x00,0x1F,0x00,0xF0,
                                  0x3F,0xFF,0xFF,0xFF,0xFF,0xF8,0x3F,0xFF,0xFF,0xFF,0xFF,0xFC,0x1C,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

                          }};
unsigned char mo_1[4][288]={{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,
                                    0x00,0x00,0x00,0x01,0xE0,0x3E,0x00,0x00,0x00,0x07,0xF0,0x3E,0x00,0x00,0x00,0x3F,
                                    0xF8,0x7C,0x00,0x00,0x01,0xFF,0xC0,0x78,0x1C,0x00,0x1F,0xFC,0x00,0xFF,0xFE,0x00,
                                    0x1C,0x3C,0x00,0xFF,0xFF,0x00,0x00,0x3C,0x01,0xE0,0x3E,0x00,0x00,0x3C,0x03,0xC0,
                                    0x78,0x00,0x00,0x3C,0x03,0x80,0x70,0x00,0x00,0x3C,0x07,0x00,0xE0,0x00,0x00,0x3C,
                                    0x4E,0x00,0xE0,0x00,0x00,0x3C,0xEC,0x01,0xC1,0xC0,0x3F,0xFF,0xF7,0xFF,0xFF,0xE0,
                                    0x3F,0xFF,0xFF,0xFF,0xFF,0xF0,0x1E,0x3C,0x03,0x80,0x01,0xE0,0x00,0x3C,0x00,0x00,
                                    0x01,0xE0,0x00,0x3C,0x00,0x00,0x01,0xE0,0x00,0x7C,0x01,0xFF,0xFF,0xE0,0x00,0x7F,
                                    0x03,0xFF,0xFF,0xE0,0x00,0x7F,0xC1,0xE0,0x01,0xE0,0x00,0xFF,0xE0,0x00,0x01,0xE0,
                                    0x00,0xFD,0xF0,0x00,0x01,0xE0,0x01,0xFD,0xF0,0x00,0x01,0xE0,0x01,0xFC,0xF7,0xFF,
                                    0xFF,0xE0,0x01,0xFC,0xF7,0xFF,0xFF,0xE0,0x03,0xFC,0x73,0x80,0x01,0xE0,0x03,0xBC,
                                    0x00,0x0C,0x01,0xE0,0x07,0xBC,0x00,0x0F,0x01,0x80,0x07,0x3C,0x00,0x07,0x80,0x00,
                                    0x0E,0x3C,0x00,0xC7,0xC0,0x00,0x1E,0x3C,0x00,0xF3,0xC1,0x00,0x1C,0x3C,0x1C,0xFB,
                                    0xC1,0xC0,0x38,0x3C,0x1C,0xF1,0xC6,0xF0,0x70,0x3C,0x1C,0xF1,0x86,0xF8,0x00,0x3C,
                                    0x3C,0xF0,0x06,0x7C,0x00,0x3C,0x3C,0xF0,0x0E,0x7C,0x00,0x3E,0x7C,0xF0,0x0E,0x3C,
                                    0x00,0x3E,0xF8,0xF0,0x0F,0x3C,0x00,0x3E,0xF8,0xF8,0x1F,0x98,0x00,0x3E,0x00,0xFF,
                                    0xFF,0x80,0x00,0x3E,0x00,0x7F,0xFF,0x00,0x00,0x3E,0x00,0x00,0x00,0x00,0x00,0x38,
                                    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x00,0x06,
                                    0x00,0x00,0x00,0x0F,0x00,0x07,0x80,0x00,0x00,0x0F,0x80,0x07,0xC0,0x00,0x00,0x1F,
                                    0x00,0x0F,0xC0,0x00,0x00,0x1E,0x00,0x0F,0x80,0x00,0x00,0x1E,0x00,0x0F,0x00,0x00,
                                    0x00,0x1C,0x00,0x1F,0x00,0x00,0x00,0x3C,0x00,0x1E,0x00,0x00,0x06,0x38,0x38,0x1E,
                                    0x00,0xE0,0x07,0xFF,0xFC,0x3F,0xFF,0xF0,0x07,0xFF,0xFE,0x3F,0xFF,0xF8,0x07,0x80,
                                    0x7C,0x78,0x01,0xF0,0x07,0x80,0x78,0x78,0x01,0xE0,0x07,0x80,0x78,0xF0,0x01,0xE0,
                                    0x07,0x80,0x78,0xE0,0x01,0xE0,0x07,0x80,0x79,0xE0,0x01,0xE0,0x07,0x80,0x79,0xC0,
                                    0x01,0xE0,0x07,0x80,0x7B,0x80,0x01,0xE0,0x07,0x80,0x7F,0x70,0x01,0xE0,0x07,0x80,
                                    0x7E,0x38,0x01,0xE0,0x07,0x80,0x78,0x3C,0x01,0xE0,0x07,0x80,0x78,0x1E,0x01,0xE0,
                                    0x07,0xFF,0xF8,0x0F,0x01,0xE0,0x07,0xFF,0xF8,0x0F,0x81,0xE0,0x07,0x80,0x78,0x0F,
                                    0x81,0xE0,0x07,0x80,0x78,0x07,0x81,0xE0,0x07,0x80,0x78,0x07,0x81,0xE0,0x07,0x80,
                                    0x78,0x07,0x81,0xE0,0x07,0x80,0x78,0x07,0x01,0xE0,0x07,0x80,0x78,0x00,0x01,0xE0,
                                    0x07,0x80,0x78,0x00,0x03,0xE0,0x07,0x80,0x78,0x00,0x03,0xE0,0x07,0x80,0x78,0x00,
                                    0x03,0xE0,0x07,0x80,0x78,0x00,0x03,0xE0,0x07,0x80,0x78,0x00,0x03,0xE0,0x07,0x80,
                                    0x78,0x00,0x03,0xC0,0x07,0xFF,0xF8,0x00,0x03,0xC0,0x07,0xFF,0xF8,0x07,0x07,0xC0,
                                    0x07,0x80,0x7C,0x07,0xFF,0xC0,0x07,0x80,0x7C,0x01,0xFF,0x80,0x07,0x80,0x78,0x00,
                                    0x7F,0x80,0x07,0x80,0x70,0x00,0x3F,0x00,0x06,0x00,0x00,0x00,0x1C,0x00,0x00,0x00,
                                    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x80,
                                    0x00,0x00,0x00,0x00,0x03,0xE0,0x00,0x00,0x00,0x00,0x03,0xE0,0x00,0x00,0x00,0x00,
                                    0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x30,0x00,0x00,0x00,0x03,0xC0,0x78,0x00,
                                    0x00,0x7F,0xFF,0xFF,0xFC,0x00,0x00,0x7F,0xFF,0xFF,0xFE,0x00,0x00,0x3C,0x03,0xC0,
                                    0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,
                                    0x03,0xC0,0x01,0x80,0x00,0x00,0x03,0xC0,0x03,0xC0,0x0F,0xFF,0xFF,0xFF,0xFF,0xE0,
                                    0x0F,0xFF,0xFF,0xFF,0xFF,0xF0,0x07,0x00,0x00,0x06,0x00,0x00,0x00,0x03,0x80,0x07,
                                    0x80,0x00,0x00,0x01,0xE0,0x0F,0xC0,0x00,0x00,0x01,0xF0,0x0F,0x80,0x00,0x00,0x00,
                                    0xF8,0x0F,0x00,0x00,0x00,0x00,0xF8,0x1E,0x00,0x00,0x00,0x00,0x78,0x1C,0x0C,0x00,
                                    0x00,0x00,0x78,0x18,0x1E,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x01,0xFF,0xFF,0xFF,
                                    0xFF,0x80,0x00,0xE0,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,
                                    0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0xE0,
                                    0x00,0x00,0x03,0xC0,0x01,0xF0,0x3F,0xFF,0xFF,0xFF,0xFF,0xF8,0x3F,0xFF,0xFF,0xFF,
                                    0xFF,0xFC,0x1E,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,
                                    0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,
                                    0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,
                                    0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,
                                    0x03,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,
                                    0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0xE0,0x00,0x78,0x1F,0xFF,0xFF,0xF0,0x00,0x7C,
                                    0x1F,0xFF,0xFF,0xF8,0x00,0x3E,0x0E,0x00,0x00,0x00,0x00,0x3E,0x00,0x00,0x00,0x00,
                                    0x00,0x1E,0x00,0x00,0x00,0x00,0x00,0x1C,0x01,0x80,0x03,0x80,0x00,0x00,0x01,0xFF,
                                    0xFF,0xC0,0x00,0x03,0x81,0xFF,0xFF,0xC0,0x3F,0xFF,0xC1,0xE0,0x07,0x80,0x3F,0xFF,
                                    0xE1,0xE0,0x07,0x80,0x1C,0x07,0xC1,0xE0,0x07,0x80,0x00,0x0F,0x81,0xE0,0x07,0x80,
                                    0x00,0x0F,0x01,0xE0,0x07,0x80,0x00,0x1F,0x01,0xFF,0xFF,0x80,0x00,0x1E,0x01,0xFF,
                                    0xFF,0x80,0x00,0x1E,0x01,0xE0,0x07,0x80,0x00,0x3C,0x01,0xE0,0x07,0x00,0x00,0x7E,
                                    0x01,0x80,0x00,0x00,0x00,0x7F,0x8C,0x00,0x00,0x60,0x00,0xFF,0xEF,0xFF,0xFF,0xF0,
                                    0x00,0xFD,0xEF,0xFF,0xFF,0xF8,0x01,0xFD,0xFF,0x03,0xC1,0xF0,0x03,0xFC,0xFF,0x03,
                                    0xC1,0xF0,0x07,0xBC,0xEF,0x03,0xC1,0xF0,0x0F,0x3C,0x0F,0x03,0xC1,0xF0,0x0E,0x3C,
                                    0x0F,0x03,0xC1,0xF0,0x1C,0x3C,0x0F,0x03,0xC1,0xF0,0x38,0x3C,0x0F,0xFF,0xFF,0xF0,
                                    0x70,0x3C,0x0F,0xFF,0xFF,0xF0,0x00,0x3C,0x0F,0x03,0xC1,0xF0,0x00,0x3C,0x0F,0x03,
                                    0xC1,0xF0,0x00,0x3C,0x0F,0x03,0xC1,0xF0,0x00,0x3C,0x0F,0x03,0xC1,0xF0,0x00,0x3C,
                                    0x0F,0x03,0xC1,0xF0,0x00,0x3C,0x0F,0x03,0xC1,0xF0,0x00,0x3C,0x0F,0xFF,0xFF,0xF0,
                                    0x00,0x3C,0x0F,0xFF,0xFF,0xF0,0x00,0x3C,0x0F,0x00,0x00,0xF0,0x00,0x3C,0x0F,0x00,
                                    0x00,0xF0,0x00,0x3C,0x0F,0x00,0x00,0xF0,0x00,0x3C,0x0F,0x00,0x00,0xC0,0x00,0x38,
                                    0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}};
unsigned char mo_2[3][288]={{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                    0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x07,0x80,0x07,0xFF,
                                    0xFF,0xFF,0xFF,0xC0,0x07,0xFF,0xFF,0xFF,0xFF,0xE0,0x03,0x80,0xF8,0x3C,0x00,0x00,
                                    0x00,0x00,0xF8,0x3C,0x00,0x00,0x00,0x00,0xF8,0x3C,0x00,0x00,0x00,0x00,0xF8,0x3C,
                                    0x00,0x00,0x00,0x00,0xF8,0x3C,0x0E,0x00,0x01,0xC0,0xF8,0x3C,0x0F,0x00,0x00,0xE0,
                                    0xF8,0x3C,0x1F,0x80,0x00,0xF0,0xF8,0x3C,0x3F,0x80,0x00,0x78,0xF8,0x3C,0x3E,0x00,
                                    0x00,0x7C,0xF8,0x3C,0x78,0x00,0x00,0x3E,0xF8,0x3C,0xF0,0x00,0x00,0x3E,0xF8,0x3D,
                                    0xE0,0x00,0x00,0x1E,0xF8,0x3F,0xC0,0x00,0x00,0x1C,0xF8,0x3F,0x00,0x00,0x00,0x00,
                                    0xF8,0x3E,0x00,0xE0,0x00,0x00,0xF8,0x3C,0x01,0xF0,0x3F,0xFF,0xFF,0xFF,0xFF,0xF8,
                                    0x3F,0xFF,0xFF,0xFF,0xFF,0xFC,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x00,
                                    0x00,0x00,0x00,0x00,0x07,0x00,0x38,0x00,0x00,0x07,0x07,0x80,0x3E,0x00,0x00,0x67,
                                    0xC3,0xC0,0x1F,0x00,0x00,0xE7,0xE3,0xE0,0x0F,0xC0,0x00,0xE7,0xC1,0xF0,0x07,0xE0,
                                    0x01,0xE7,0xC1,0xF0,0xE3,0xF0,0x01,0xC7,0xC0,0xF0,0xE1,0xF0,0x03,0xC7,0xC0,0xF0,
                                    0xE1,0xF8,0x07,0xC7,0xC0,0x60,0xE0,0xF8,0x0F,0xC7,0xC0,0x00,0xE0,0xF8,0x0F,0x87,
                                    0xC0,0x00,0xF0,0x70,0x1F,0x87,0xC0,0x00,0xF0,0x00,0x0F,0x03,0xC0,0x00,0xF8,0x00,
                                    0x00,0x03,0xFF,0xFF,0xF8,0x00,0x00,0x03,0xFF,0xFF,0xF0,0x00,0x00,0x01,0xFF,0xFF,
                                    0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0xE0,0x00,0x00,0x00,0x0F,0x80,0xF0,
                                    0x00,0x00,0x00,0x0F,0xC1,0xF8,0x00,0x00,0x00,0x0F,0x81,0xF0,0x00,0x00,0x00,0x1F,
                                    0x01,0xE0,0x00,0x00,0x00,0x1F,0x03,0xE0,0x00,0x00,0x00,0x1E,0x03,0xC0,0x00,0x00,
                                    0x00,0x3E,0x03,0xC0,0x00,0xC0,0x00,0x3C,0x07,0x80,0x01,0xE0,0x00,0x3C,0x07,0xFF,
                                    0xFF,0xF0,0x00,0x78,0x0F,0xFF,0xFF,0xF8,0x00,0x78,0x0F,0x78,0x00,0x00,0x00,0xF0,
                                    0x1E,0x78,0x00,0x00,0x00,0xF0,0x1E,0x78,0x00,0x00,0x00,0xF8,0x3C,0x78,0x00,0x00,
                                    0x01,0xFC,0x38,0x78,0x00,0x00,0x01,0xFC,0x78,0x78,0x00,0x00,0x03,0xF8,0x70,0x78,
                                    0x00,0x00,0x03,0xF8,0xE0,0x78,0x03,0x00,0x07,0x79,0xC0,0x78,0x07,0x80,0x0F,0x79,
                                    0x80,0x7F,0xFF,0xC0,0x0E,0x7B,0x80,0x7F,0xFF,0xE0,0x1C,0x78,0x00,0x78,0x00,0x00,
                                    0x38,0x78,0x00,0x78,0x00,0x00,0x30,0x78,0x00,0x78,0x00,0x00,0x20,0x78,0x00,0x78,
                                    0x00,0x00,0x00,0x78,0x00,0x78,0x00,0x00,0x00,0x78,0x00,0x78,0x00,0x00,0x00,0x78,
                                    0x00,0x78,0x00,0x00,0x00,0x78,0x00,0x78,0x00,0xC0,0x00,0x78,0x00,0x78,0x01,0xE0,
                                    0x00,0x78,0x00,0x7F,0xFF,0xF0,0x00,0x78,0x00,0x7F,0xFF,0xF8,0x00,0x78,0x00,0x78,
                                    0x00,0x00,0x00,0x78,0x00,0x78,0x00,0x00,0x00,0x78,0x00,0x78,0x00,0x00,0x00,0x78,
                                    0x00,0x78,0x00,0x00,0x00,0x78,0x00,0x78,0x00,0x00,0x00,0x78,0x00,0x78,0x00,0x00,
                                    0x00,0x78,0x00,0x78,0x00,0x00,0x00,0x78,0x00,0x78,0x00,0x00,0x00,0x78,0x00,0x78,
                                    0x00,0x00,0x00,0x78,0x00,0x7C,0x00,0x00,0x00,0x78,0x00,0x7C,0x00,0x00,0x00,0x70,
                                    0x00,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
                                    0x00,0xE0,0x00,0x00,0x00,0x00,0x00,0xF8,0x01,0x80,0x00,0x60,0x00,0xF8,0x01,0xFF,
                                    0xFF,0xF0,0x00,0xF0,0x01,0xFF,0xFF,0xF8,0x00,0xF0,0x01,0xE0,0x00,0xF0,0x00,0xF0,
                                    0x01,0xE0,0x00,0xF1,0xE0,0xF0,0x01,0xE0,0x00,0xF1,0xF8,0xF0,0x01,0xE0,0x00,0xF1,
                                    0xF0,0xF0,0x01,0xE0,0x00,0xF1,0xE0,0xF0,0x01,0xFF,0xFF,0xF1,0xE0,0xF0,0x01,0xFF,
                                    0xFF,0xF1,0xE0,0xF0,0x01,0xE0,0x60,0xF1,0xE0,0xF0,0x01,0xE0,0x78,0xF1,0xE0,0xF0,
                                    0x01,0xE0,0x7C,0x01,0xE0,0xF0,0x01,0xE0,0x78,0x01,0xE0,0xF0,0x01,0xE0,0x78,0x01,
                                    0xE0,0xF0,0x01,0xE0,0x78,0x01,0xE0,0xF0,0x01,0xE0,0x78,0x39,0xE0,0xF0,0x01,0xFF,
                                    0xFF,0xFD,0xE0,0xF0,0x01,0xFF,0xFF,0xFF,0xE0,0xF0,0x01,0xE0,0x78,0x01,0xE0,0xF0,
                                    0x01,0xE0,0x78,0x01,0xE0,0xF0,0x01,0xE0,0x78,0x01,0xE0,0xF0,0x03,0xE0,0x78,0x01,
                                    0xE0,0xF0,0x03,0xC0,0x78,0x01,0xE0,0xF0,0x03,0xDC,0x78,0xC1,0xE0,0xF0,0x03,0xDF,
                                    0xFF,0xE1,0xE0,0xF0,0x03,0xCF,0xFF,0xF1,0xE0,0xF0,0x03,0xCF,0x01,0xF1,0xE0,0xF0,
                                    0x03,0xCF,0x01,0xE1,0xF0,0xF0,0x03,0x8F,0x01,0xE1,0xF0,0xF0,0x07,0x8F,0x01,0xE1,
                                    0xF0,0xF0,0x07,0x8F,0x01,0xE1,0xE0,0xF0,0x07,0x0F,0x01,0xE0,0x00,0xF0,0x0F,0x0F,
                                    0x01,0xE0,0x00,0xF0,0x0F,0x0F,0x01,0xE0,0x00,0xF0,0x0E,0x0F,0xFF,0xE0,0x00,0xF0,
                                    0x1C,0x0F,0xFF,0xE0,0x00,0xF0,0x1C,0x0F,0x01,0xE0,0x7F,0xF0,0x38,0x0F,0x01,0xE0,
                                    0x3F,0xF0,0x30,0x1F,0x00,0x00,0x0F,0xE0,0x70,0x1E,0x00,0x00,0x03,0xE0,0x00,0x00,
                                    0x00,0x00,0x01,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00

                            }};

void main(void)
{





    ClearScreen(0,0,800,480,0x00ffffff);
    ClearScreen(0,195,5,480,0x00ff0000);
    ClearScreen(115,0,195,5,0x00ff0000);
    ClearScreen(235,0,195,5,0x00ff0000);
    ClearScreen(355,0,195,5,0x00ff0000);


    //int pid[3]={-1,-1,-1};

    int pid_1=-1;
    int pid_2=-1;
    int pid_3=-1;
    int pid_4=-1;

    int pid_5=-1;
    int pid_6=-1;


    int function=-1;
    ///////////////////////////////////
    //char *music[2]={"TSLS.mp3","TSWD.mp3"};
    int music_fd = open("./Music.bmp",O_RDWR);
    if(music_fd < 0)
    {
        perror("open Music_fd erorr\n");
    }
    int start_fd = open("./Start.bmp",O_RDWR);
    if(start_fd < 0)
    {
        perror("open start_fd erorr\n");
    }
    int pause_fd = open("./Pause.bmp",O_RDWR);
    if(pause_fd < 0)
    {
        perror("open pause_fd erorr\n");
    }
    int lcd_fd = open("/dev/fb0",O_RDWR);
    if(lcd_fd < 0)
    {
        perror("open lcd_fd error\n");
    }

    int led_fd = open("/dev/led_drv",O_RDWR);
    if(led_fd < 0)
    {
        perror("open led_fd erorr\n");
    }


    int light_off_fd = open("./light_off.bmp",O_RDWR);
    if(light_off_fd < 0)
    {
        perror("open light_off_fd erorr\n");
    }
    int light_on_fd = open("./light_on.bmp",O_RDWR);
    if(light_on_fd < 0)
    {
        perror("open light_on_fd erorr\n");
    }
    p=(int *)Mapping(lcd_fd,800,480);



   // Open_Led(led_fd,0,10);
   // Show_Bmp(light_off_fd,p,144,240,650,0);
    ////////////////////////////////////////////////////
    //   FIFI

     // time

//
//        int fifo_fd;
//        //int n, i;
//        int fifo_buf[5];
//
//        //printf("I am %d process.\n", getpid()); // 说明进程ID
//
//        if((fd = open("fifo1", O_WRONLY)) < 0) // 以写打开一个FIFO
//        {
//            perror("Open FIFO Failed");
//            exit(1);
//        }
//
//    if((pid_5=fork())==0)
//    {
//        while (1)
//        {
//            if(write(fd, buf, 5) < 0)  // 写入到FIFO中
//            {
//                perror("Write FIFO Failed");
//                close(fd);
//                exit(1);
//            }
//            sleep(1);  // 休眠1秒
//        }
//
//
//    }

    int fifo_fd;
    int fifo_buf[5];
    int len;

//    if(mkfifo("fifo1", 0666) < 0 && errno!=EEXIST) // 创建FIFO管道
//        perror("Create FIFO Failed");
//
//
//    if((fifo_fd = open("fifo1", O_RDONLY)) < 0)  // 以读打开FIFO
//    {
//        perror("Open FIFO Failed");
//        exit(1);
//    }



    if((pid_5=fork())==0)
    {
            if(mkfifo("fifo1", 0666) < 0 && errno!=EEXIST) // 创建FIFO管道
        perror("Create FIFO Failed");


        if((fifo_fd = open("fifo1", O_RDONLY)) < 0)  // 以读打开FIFO
        {
            perror("Open FIFO Failed");
            exit(1);
        }

                while((len = read(fifo_fd,fifo_buf,5)) > 0) // 读取FIFO管
                printf("L:%d T:%d P:%d H1:%d H2:%d \n",fifo_buf[0],fifo_buf[1],fifo_buf[2],fifo_buf[3],fifo_buf[4]);

    } else{
        printf("pid_55555555555555555 error\n");
    }


        //close(fd);  // 关闭FIFO文件





    //////////////////////////////////////////////////

    struct input_event event;
//    struct LTPHH{
//        int L;
//        int T;
//        int P;
//        int H1;
//        int H2;
//    };
//
//    struct LTPHH event1={0};
//    int pip_fd[2];
//    int pip_ret;

//    if((pid_4=fork())==0)
//    {
//        while (1)
//        {
//            close(pip_fd[1]);
//            pip_ret = read(pip_fd[0],&event1,sizeof(event1));
//            if(pip_ret < sizeof(event))
//            {
//                continue;
//            }
//            ClearScreen(0,280,100,100,0x00ffffff);
//            Show_Num(event1.L,p,300,0,0x00FF0000);
//            Show_Num(event1.T,p,300,20,0x00FF0000);
//            Show_Num(event1.P,p,300,40,0x00FF0000);
//            Show_Num(event1.H1,p,300,60,0x00FF0000);
//            Show_Num(event1.H2,p,300,80,0x00FF0000);
//            printf("CCCCCCCCCCCCCCCCevent1 = %d , event1 = %d, ev.value = %d\n",event1.L,event1.T,event1.P);
//            sleep(1);
//        }
//    }

    int x,y;
//    int flag=0;
//    int led_flag=0;
    int touch_fd = open("/dev/input/event0",O_RDWR);
    if(touch_fd < 0)
    {
        perror("open touch_fd error\n");
    }
    int ret;
    int flag=0;
    int num_music=0;
    int led_flag=0;


//        int T=0;
//        int P=0;
//        int H1=0;
//        int H2=0;
        //int *py1=p;

        //Touch_Screen(p,picture_fd);

//        printf("3333333333333333333333333");
//        if((pid_5=fork())==0)
//        {

        //}

//        while (1)
//        {
//
//            write(pip_fd[1],&event2, sizeof(event2));
//            printf("YYYYYYYYYYYYYevent1 = %d , event1 = %d, ev.value = %d\n",event2.L,event2.T,event2.P);
//            sleep(1);
//        }

//    if((pid_3=fork())==0)
//    {
//
////        close(pip_fd[0]);
////
////        struct LTPHH event2={0};
//        int L=0;
//        LTPHH(p,&L,1);
//
//    } else
//    {
//        printf("pid 33333333333333 error\n");
//    }


//    int L=0;
//    LTPHH(p,&L,1);

    while(1)
    {


        printf("abbbbbbbbbbbbbbbbbbabbbbbbbbbbbb\n");
        //读取触摸屏事件
        ret = read(touch_fd,&event,sizeof(event));
        if(ret < sizeof(event))
        {
            continue;
        }
       //printf("ev.type = %d , ev.code = %d, ev.value = %d\n",event.type,event.code,event.value);

        //认为是一个X事件
        if(event.type == EV_ABS && event.code == ABS_X)
        {
            x = event.value;
            //printf("xxxxxxxxxxxxxx:   %d",x);
        }
            //认为是一个Y事件
        else if(event.type == EV_ABS && event.code == ABS_Y)
        {
            y = event.value;
            //printf("yyyyyyyyyyyyyy:   %d",y);
        }
            //认为按下去了
        else if(event.type == EV_KEY && event.code == BTN_TOUCH && event.value != 0 )
        {
            if(x>0&&x<200)
            {
                if(y>0&&y<120)
                {
                    printf("first\n");
                    function=1;
                } else if(y>120&&y<240)
                {
                    printf("second\n");
                    function=2;
                } else if(y>240&&y<360)
                {
                    printf("third\n");
                    function=3;

                } else
                {
                    printf("forth\n");
                    function=4;
                }



                switch (function)
                {
                    case 1:
                    {

                        //判断进程是否创建,没有创建进程并加载功能
//                        if(pid_3!=-1)
//                        {
//                            kill(pid_3,9);
//                        }

//                        if(pid_1==-1)
//                        {
//                            Show_Bmp(music_fd,p,240,240,200,0);
//                            Show_Bmp(start_fd,p,80,78,280,80);
//
//                        } else
//                        {
//
//                        }
                        C_playmusic(p);


                        break;
                    }
                    case 2:
                    {
                        control_led();
                        break;
                    }
                    case 3:
                    {
                        if(pid_6==-1)
                        {
                            if((pid_6=fork())==0)
                            {
                                int L;
                                LTPHH(p,&L,1);
                            }
                        }
                        break;
                    }
                    case 4:
                    {
                        //
                    }
                    default:
                    {
                        break;
                    }
                }
            } else
            {
                switch (function)
                {
                    case 1:
                    {

                        if(C_pid>0){
                            if(y>280&&y<380&&x>450&&x<550){
                                if(isPlaying==1){
                                    C_show_bmp(p,"/home/HIMA/Playmusic/music_start.bmp",100,100,450,280);
                                    sprintf(cmd,"kill -19 %d",C_pid);
                                    system(cmd);
                                    isPlaying=0;
                                }else if(isPlaying==0){
                                    C_show_bmp(p,"/home/HIMA/Playmusic/music_pause.bmp",100,100,450,280);
                                    sprintf(cmd,"kill -18 %d",C_pid);
                                    system(cmd);
                                    isPlaying=1;
                                }
                            }else if(y>280&&y<380&&x>550&&x<650){
                                sprintf(cmd,"kill -9 %d",C_pid);
                                system(cmd);
                                if(count>=2){
                                    count=0;
                                }else(count++);
                                C_pid = fork();
                                C_show_screen(p,350,0,250,50,0x00ffffff);
                            }else if(y>280&&y<380&&x>350&&x<450){
                                sprintf(cmd,"kill -9 %d",C_pid);
                                system(cmd);
                                if(count<=0){
                                    count=2;
                                }else(count--);
                                C_pid = fork();
                                C_show_screen(p,350,0,250,50,0x00ff0000);
                            }
                        }
                        else if(C_pid<0) {
                            if (y > 280 && y < 380 && x > 450 && x < 550) {
                                C_pid = fork();
                                isPlaying = 1;
                            }
                        }

                        if(C_pid==0){

                            C_show_bmp(p,"/home/HIMA/Playmusic/music_pause.bmp",100,100,450,280);
                            //C_show_screen(p,350,0,250,50,0x00ffffff);
                            //printf("PLAY\n");
                            ClearScreen(0,350,250,50,0x00ffffff);
                            if(count==0){
                                C_show_screen(p,350,0,250,50,0x00ffffff);
                                C_show_word(p,mo[0],350,0,48,sizeof(mo[0]),0x0087cefa);C_show_word(p,mo[1],400,0,48,sizeof(mo[1]),0x0087cefa);
                                play_music(music[count]);
                            }else if(count==1){
                                C_show_screen(p,350,0,250,50,0x00ffffff);
                                C_show_word(p,mo_1[0],350,0,48,sizeof(mo_1[0]),0x0087cefa);C_show_word(p,mo_1[0],400,0,48,sizeof(mo_1[0]),0x0087cefa);
                                C_show_word(p,mo_1[1],450,0,48,sizeof(mo_1[1]),0x0087cefa);C_show_word(p,mo_1[2],500,0,48,sizeof(mo_1[2]),0x0087cefa);
                                C_show_word(p,mo_1[3],550,0,48,sizeof(mo_1[3]),0x0087cefa);
                                play_music(music[count]);
                            }else if(count==2){
                                C_show_screen(p,350,0,250,50,0x00ffffff);
                                C_show_word(p,mo_2[0],350,0,48,sizeof(mo_2[0]),0x0087cefa);C_show_word(p,mo_2[1],400,0,48,sizeof(mo_2[1]),0x0087cefa);
                                C_show_word(p,mo_2[2],450,0,48,sizeof(mo_2[2]),0x0087cefa);
                                play_music(music[count]);
                            }
                        }

//                        if(x>280&&x<360&&y>80&&y<160)
//                        {
//                            if(pid_1==-1)
//                            {
//                                if((pid_1=fork())==0)
//                                {
//                                    Show_Bmp(pause_fd,p,80,78,280,80);
//                                    Play_Music(music[num_music]);
//                                    flag=1;
//                                }
//                            } else
//                            {
//                                if(flag==0)
//                                {
//                                    Show_Bmp(pause_fd,p,80,78,280,80);
//                                    kill(pid_1,18);
//                                    flag=1;
//
//                                } else{
//                                    Show_Bmp(start_fd,p,80,78,280,80);
//                                    kill(pid_1,19);
//                                    flag=0;
//
//                                }
//                            }
//
//                        }else if(x>200&&x<280&&y>80&&y<160)
//                        {
//                            if(pid_1==-1)
//                            {
//                                if((pid_1=fork())==0)
//                                {
//                                    Show_Bmp(pause_fd,p,80,78,280,80);
//                                    Play_Music(music[num_music]);
//                                    flag=1;
//                                }
//                            } else
//                            {
//                                kill(pid_1,9);
//                                num_music=num_music-1;
//                                if(num_music<0)
//                                {
//                                    num_music=1;
//                                }
//                                num_music=num_music%2;
//                                if((pid_1=fork())==0)
//                                {
//
//                                    Show_Bmp(pause_fd,p,80,78,280,80);
//                                    Play_Music(music[num_music]);
//
//                                }
//
//                            }
//                        } else if(x>360&&x<440&&y>80&&y<160)
//                        {
//                            if(pid_1==-1)
//                            {
//                                if((pid_1=fork())==0)
//                                {
//                                    Show_Bmp(pause_fd,p,80,78,280,80);
//                                    Play_Music(music[num_music]);
//                                    flag=1;
//                                }
//                            } else
//                            {
//                                kill(pid_1,9);
//                                num_music=((++num_music)%2);
//                                if((pid_1=fork())==0)
//                                {
//                                    Show_Bmp(pause_fd,p,80,78,280,80);
//
//                                    Play_Music(music[num_music]);
//                                }
//
//                            }
//                        }


                        //判断区域
                        break;
                    }
                    case 2:
                    {
//                        if(x>200&&x<314&&y>0&&y<240)
//                        {
//                            if(led_flag==0)
//                            {
//                                Open_Led(led_fd,1,10);
//                                Show_Bmp(light_on_fd,p,144,240,650,0);
//                                led_flag=1;
//                            } else
//                            {
//                                Open_Led(led_fd,0,10);
//                                Show_Bmp(light_off_fd,p,144,240,650,0);
//                                led_flag=0;
//                            }
//                        }

                        if(x>220 && x < 380 && y > 360 && y <420)
                        {
                            if(cmd1[0]==0)
                            {
                                bt_flag1=-bt_flag1;
                                cmd1[0]=1;     //10亮
                                cmd1[1] = 10;
                                write(led_fd,cmd1,2);
                                if(cmd2[0]==0) //9号灯灭
                                {
                                    show_bmp("./you/on.bmp",600,480,200,0);
                                }else //9号灯亮
                                {
                                    show_bmp("./you/on_1.bmp",600,480,200,0);
                                }

                                if(bt_flag1==1)
                                {
                                    show_bmp("./you/bt_on.bmp",160,60,220,360); //第1个开关
                                }else{
                                    show_bmp("./you/bt_off.bmp",160,60,220,360); //第1个开关
                                }

                                if(bt_flag2==1)
                                {
                                    show_bmp("./you/bt2_off.bmp",160,61,420,360); //第二个开关
                                }else{
                                    show_bmp("./you/bt2_on.bmp",160,61,420,360); //第二个开关
                                }

                                if(bt_flag3==1){

                                    show_bmp("./you/bt_on.bmp",160,60,620,360); //第3个开关
                                }else{
                                    show_bmp("./you/bt_off.bmp",160,60,620,360); //第3个开关
                                }


                            }
                            else
                            {
                                bt_flag1=-bt_flag1;
                                cmd1[0]=0;  //10灭
                                cmd1[1] = 10;
                                write(led_fd,cmd1,2);
                                if(cmd2[0]==0) //9号灯灭
                                {
                                    show_bmp("./you/off.bmp",600,480,200,0);
                                }else //9号灯亮
                                {
                                    show_bmp("./you/on.bmp",600,480,200,0);
                                }

                                if(bt_flag1==1)
                                {
                                    show_bmp("./you/bt_on.bmp",160,60,220,360); //第1个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,220,360); //第1个开关
                                }

                                if(bt_flag2==1)
                                {
                                    show_bmp("./you/bt2_off.bmp",160,61,420,360); //第二个开关
                                }else{

                                    show_bmp("./you/bt2_on.bmp",160,61,420,360); //第二个开关
                                }

                                if(bt_flag3==1){

                                    show_bmp("./you/bt_on.bmp",160,60,620,360); //第3个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,620,360); //第3个开关
                                }
                            }
                        }

                        //第9盏灯
                        if(x>420 && x < 580 && y > 360 && y <420)
                        {
                            if(cmd2[0]==0)
                            {
                                bt_flag2=-bt_flag2;
                                cmd2[0]=1;  //9亮
                                cmd2[1] = 9;
                                write(led_fd,cmd2,2);

                                if(cmd1[0]==0) //10号灯灭
                                {
                                    show_bmp("./you/on.bmp",600,480,200,0);
                                }else //10号灯亮
                                {
                                    show_bmp("./you/on_1.bmp",600,480,200,0);
                                }

                                if(bt_flag1==1)
                                {
                                    show_bmp("./you/bt_on.bmp",160,60,220,360); //第1个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,220,360); //第1个开关
                                }

                                if(bt_flag2==1)
                                {
                                    show_bmp("./you/bt2_off.bmp",160,61,420,360); //第二个开关
                                }else{

                                    show_bmp("./you/bt2_on.bmp",160,61,420,360); //第二个开关
                                }

                                if(bt_flag3==1){

                                    show_bmp("./you/bt_on.bmp",160,60,620,360); //第3个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,620,360); //第3个开关
                                }

                            }
                            else
                            {
                                bt_flag2=-bt_flag2;
                                cmd2[0]=0;  //9灭
                                cmd2[1] = 9;
                                write(led_fd,cmd2,2);

                                if(cmd1[0]==0) //10号灯灭
                                {
                                    show_bmp("./you/off.bmp",600,480,200,0);
                                }else //10号灯亮
                                {
                                    show_bmp("./you/on.bmp",600,480,200,0);
                                }

                                if(bt_flag1==1)
                                {
                                    show_bmp("./you/bt_on.bmp",160,60,220,360); //第1个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,220,360); //第1个开关
                                }

                                if(bt_flag2==1)
                                {
                                    show_bmp("./you/bt2_off.bmp",160,61,420,360); //第二个开关
                                }else{

                                    show_bmp("./you/bt2_on.bmp",160,61,420,360); //第二个开关
                                }

                                if(bt_flag3==1){

                                    show_bmp("./you/bt_on.bmp",160,60,620,360); //第3个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,620,360); //第3个开关
                                }
                            }
                        }

                        //第10盏灯 第二个开关
                        if(x>620 && x < 780 && y > 360 && y <420)
                        {
                            if(cmd1[0]==0)
                            {
                                bt_flag3=-bt_flag3;
                                cmd1[0]=1;  //10亮
                                cmd1[1] = 10;
                                write(led_fd,cmd1,2);

                                if(cmd2[0]==0) //10号灯灭
                                {
                                    show_bmp("./you/on.bmp",600,480,200,0);
                                }else //10号灯亮
                                {
                                    show_bmp("./you/on_1.bmp",600,480,200,0);
                                }

                                if(bt_flag1==1)
                                {
                                    show_bmp("./you/bt_on.bmp",160,60,220,360); //第1个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,220,360); //第1个开关
                                }

                                if(bt_flag2==1)
                                {
                                    show_bmp("./you/bt2_off.bmp",160,61,420,360); //第二个开关
                                }else{

                                    show_bmp("./you/bt2_on.bmp",160,61,420,360); //第二个开关
                                }

                                if(bt_flag3==1){
                                    show_bmp("./you/bt_on.bmp",160,60,620,360); //第3个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,620,360); //第3个开关
                                }
                            }
                            else
                            {
                                bt_flag3=-bt_flag3;
                                cmd1[0]=0;  //10灭
                                cmd1[1] =10;
                                write(led_fd,cmd1,2);

                                if(cmd2[0]==0) //9号灯灭
                                {
                                    show_bmp("./you/off.bmp",600,480,200,0);
                                }else //9号灯亮
                                {
                                    show_bmp("./you/on.bmp",600,480,200,0);
                                }

                                if(bt_flag1==1)
                                {
                                    show_bmp("./you/bt_on.bmp",160,60,220,360); //第1个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,220,360); //第1个开关
                                }

                                if(bt_flag2==1)
                                {
                                    show_bmp("./you/bt2_off.bmp",160,61,420,360); //第二个开关
                                }else{

                                    show_bmp("./you/bt2_on.bmp",160,61,420,360); //第二个开关
                                }

                                if(bt_flag3==1){

                                    show_bmp("./you/bt_on.bmp",160,60,620,360); //第3个开关
                                }else{

                                    show_bmp("./you/bt_off.bmp",160,60,620,360); //第3个开关
                                }
                            }
                        }

                        break;
                    }
                    case 3:
                    {

                        break;
                    }
                    case 4:
                    {
                        break;
                    }
                    default:
                    {

                    }

                }
            }








            //Show_Bmp(pause_fd,p,80,78,80,80);
//            if(x>80&&x<160&&y>80&&y<160)
//            {
//                if(pid_1==-1)
//                {
//                    if((pid_1=fork())==0)
//                    {
//                        Show_Bmp(pause_fd,p,80,78,80,80);
//                        Play_Music(music[num_music]);
//                        flag=1;
//                    }
//                } else
//                {
//                    if(flag==0)
//                    {
//                        Show_Bmp(pause_fd,p,80,78,80,80);
//                        kill(pid_1,18);
//                        flag=1;
//
//                    } else{
//                        Show_Bmp(start_fd,p,80,78,80,80);
//                        kill(pid_1,19);
//                        flag=0;
//
//                    }
//                }
//
//            }else if(x>0&&x<80&&y>80&&y<160)
//            {
//                if(pid_1==-1)
//                {
//                    if((pid_1=fork())==0)
//                    {
//                        Show_Bmp(pause_fd,p,80,78,80,80);
//                        Play_Music(music[num_music]);
//                        flag=1;
//                    }
//                } else
//                {
//                    kill(pid_1,9);
//                    num_music=num_music-1;
//                    if(num_music<0)
//                    {
//                        num_music=1;
//                    }
//                    num_music=num_music%2;
//                    if((pid_1=fork())==0)
//                    {
//
//                        Show_Bmp(pause_fd,p,80,78,80,80);
//                        Play_Music(music[num_music]);
//
//                    }
//
//                }
//            } else if(x>160&&x<240&&y>80&&y<160)
//            {
//                if(pid_1==-1)
//                {
//                    if((pid_1=fork())==0)
//                    {
//                        Show_Bmp(pause_fd,p,80,78,80,80);
//                        Play_Music(music[num_music]);
//                        flag=1;
//                    }
//                } else
//                {
//                    kill(pid_1,9);
//                    num_music=((++num_music)%2);
//                    if((pid_1=fork())==0)
//                    {
//                        Show_Bmp(pause_fd,p,80,78,80,80);
//
//                        Play_Music(music[num_music]);
//                    }
//
//                }
//            } else if(x>650&&x<800&&y>0&&y<240)
//            {
//                if(led_flag==0)
//                {
//                    Open_Led(led_fd,1,10);
//                    Show_Bmp(light_on_fd,p,144,240,650,0);
//                    led_flag=1;
//                } else
//                {
//                    Open_Led(led_fd,0,10);
//                    Show_Bmp(light_off_fd,p,144,240,650,0);
//                    led_flag=0;
//                }
//            }

        }
            //认为此时弹起来了
        else if(event.type == EV_KEY && event.code == BTN_TOUCH && event.value == 0)
        {

        }

    }


}